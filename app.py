import streamlit as st

# --- ×”×’×“×¨×•×ª ×“×£ ---
st.set_page_config(page_title="RightRent - × ×™×ª×•×— ×—×•×–×™ ×©×›×™×¨×•×ª", page_icon="ğŸ ")

# --- ××ª×—×•×œ ×”×–×™×›×¨×•×Ÿ (Session State) ---
if 'step' not in st.session_state:
    st.session_state.step = 1  # ××ª×—×™×œ×™× ×‘×©×œ×‘ 1

if 'user_prefs' not in st.session_state:
    st.session_state.user_prefs = {}

# --- ×¤×•× ×§×¦×™×•×ª × ×™×•×•×˜ ---
def go_to_step(step_number):
    st.session_state.step = step_number

# ==========================================
# ××¡×š 1: ×‘×¨×•×›×™× ×”×‘××™× (Welcome & Disclaimer)
# ==========================================
if st.session_state.step == 1:
    st.title("RightRent ğŸ ")
    st.subheader("× ×™×ª×•×— ×—×•×–×” ×”×©×›×™×¨×•×ª ×©×œ×š ×‘×›××” ×“×§×•×ª")
    
    st.write("""
    ×‘×¨×•×›×™× ×”×‘××™×! ×”××¢×¨×›×ª ×©×œ× ×• ×¢×•×–×¨×ª ×œ×›× ×œ×”×‘×™×Ÿ ××ª ×—×•×–×” ×”×©×›×™×¨×•×ª ×©×œ×›×, 
    ×œ×–×”×•×ª ×¡×™×›×•× ×™× ×•×œ×”×ª××™× ××•×ª×• ×œ×¦×¨×›×™× ×”××™×©×™×™× ×©×œ×›×.
    """)
    
    # Disclaimer - ×œ×¤×™ Guideline 1 (Expectations)
    st.info("""
    **×”×‘×”×¨×” ×—×©×•×‘×”:** ×”××¢×¨×›×ª ××‘×•×¡×¡×ª ×¢×œ ×‘×™× ×” ××œ××›×•×ª×™×ª ×•×”×™× × ×•×¢×“×” ×œ×©××© ×›×›×œ×™ ×¢×–×¨ ×‘×œ×‘×“. 
    ×”××™×“×¢ ×”××•×¦×’ ××™× ×• ××”×•×•×” ×™×™×¢×•×¥ ××©×¤×˜×™ ××—×™×™×‘. ×‘×›×œ ××§×¨×” ×©×œ ×¡×¤×§, ××•××œ×¥ ×œ×”×ª×™×™×¢×¥ ×¢× ×¢×•"×“.
    """)
    
    if st.button("×‘×•××• × ×ª×—×™×œ! ğŸš€"):
        go_to_step(2)

# ==========================================
# ××¡×š 2: ×”×¢×“×¤×•×ª ××™×©×™×•×ª (Onboarding)
# ==========================================
elif st.session_state.step == 2:
    st.title("××” ×—×©×•×‘ ×œ×›× ×‘×—×•×–×”? ğŸ“")
    st.write("×¡×× ×• ××ª ×”× ×•×©××™× ×©×—×©×•×‘×™× ×œ×›× ×›×“×™ ×©× ×ª××™× ××ª ×”× ×™×ª×•×— ×¢×‘×•×¨×›×:")
    
    # ×©××œ×•×Ÿ ×”×¢×“×¤×•×ª (Personalization)
    pets = st.checkbox("×™×© ×œ×™ ×‘×¢×œ×™ ×—×™×™× (××• ×©×× ×™ ××ª×›× ×Ÿ ×œ×”×‘×™×)")
    sublet = st.checkbox("×× ×™ ××¢×•× ×™×™×Ÿ ×‘××¤×©×¨×•×ª ×œ×”×›× ×™×¡ ×“×™×™×¨ ××©× ×” (×¡××‘×œ×˜)")
    exit_option = st.checkbox("×—×©×•×‘ ×œ×™ ×©×ª×”×™×” × ×§×•×“×ª ×™×¦×™××” ××•×§×“××ª ××”×—×•×–×”")
    repairs = st.checkbox("×× ×™ ×¨×•×¦×” ×œ×•×•×“× ×©×ª×™×§×•×Ÿ ×‘×œ××™ ×¡×‘×™×¨ ×”×•× ×¢×œ ×‘×¢×œ ×”×‘×™×ª")
    
    # ×©××™×¨×ª ×”× ×ª×•× ×™×
    if st.button("×”××©×š ×œ×”×¢×œ××ª ×”×—×•×–×” â”"):
        st.session_state.user_prefs = {
            "pets": pets,
            "sublet": sublet,
            "exit_option": exit_option,
            "repairs": repairs
        }
        go_to_step(3)
    
    if st.button("â¬… ×—×–×•×¨"):
        go_to_step(1)

# ==========================================
# ××¡×š 3: ×”×¢×œ××ª ×—×•×–×” (Upload)
# ==========================================
elif st.session_state.step == 3:
    st.title("×”×¢×œ××ª ×—×•×–×” ×”×©×›×™×¨×•×ª ğŸ“‚")
    st.write("×× × ×”×¢×œ×• ××ª ×”×—×•×–×” ×‘×¤×•×¨××˜ PDF:")
    
    uploaded_file = st.file_uploader("×‘×—×¨×• ×§×•×‘×¥ PDF", type=["pdf"])
    
    if uploaded_file is not None:
        st.success("×”×§×•×‘×¥ × ×˜×¢×Ÿ ×‘×”×¦×œ×—×”! âœ”ï¸")
        # ×›××Ÿ ×™×‘×•× ×‘×”××©×š ×©×œ×‘ 3 (×—×™×œ×•×¥ ×˜×§×¡×˜)
        if st.button("× ×ª×— ××ª ×”×—×•×–×” ×©×œ×™ ğŸ§ "):
            st.write("××ª×—×™×œ ×‘× ×™×ª×•×—... (×›××Ÿ × ×—×‘×¨ ××ª ×”-AI ×‘×”××©×š)")
            # go_to_step(4)
            
    if st.button("â¬… ×—×–×•×¨ ×œ×©××œ×•×Ÿ"):
        go_to_step(2)
